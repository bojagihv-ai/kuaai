<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nano Banana Pro - Hybrid AI</title>
  <link href='./style.css' rel='stylesheet'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header>
      <h1>Nano Banana Pro <span>Hybrid Edition</span></h1>
      <p>Gemini Vision (분석) + Pollinations (생성) 하이브리드 시스템</p>
    </header>

    <main>
      <!-- API Key Setting -->
      <section class="api-settings">
        <div class="input-group">
          <label for="api-key">🔑 Google Gemini API Key (선택사항 - 이미지 분석용)</label>
          <div class="api-input-wrapper">
            <input type="password" id="api-key" placeholder="키가 없어도 이미지 생성은 가능합니다 (키 입력시 정확도 향상)">
            <button id="save-key-btn" class="secondary-btn">저장</button>
          </div>
          <small>키를 입력하면 Gemini가 원본 사진을 분석하여 더 정확한 결과물을 만듭니다.</small>
        </div>
      </section>

      <section class="config-section">
        <div class="prompts-container">
          <h2>프롬프트 설정 (최대 4개)</h2>
          <div class="input-group">
            <label for="prompt1">Prompt 1</label>
            <input type="text" id="prompt1" placeholder="예: Cyberpunk style illustration">
          </div>
          <div class="input-group">
            <label for="prompt2">Prompt 2</label>
            <input type="text" id="prompt2" placeholder="예: Oil painting texture">
          </div>
          <div class="input-group">
            <label for="prompt3">Prompt 3</label>
            <input type="text" id="prompt3" placeholder="예: 3D render, cute character">
          </div>
          <div class="input-group">
            <label for="prompt4">Prompt 4</label>
            <input type="text" id="prompt4" placeholder="예: Sketch style, black and white">
          </div>
        </div>

        <div class="upload-container">
          <h2>원본 이미지 (레퍼런스)</h2>
          <div class="file-drop-area" id="drop-area">
            <p>사진을 드래그하거나 클릭하여 업로드하세요</p>
          </div>
          <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
          <div class="file-status">
            선택된 파일: <span id="file-count">0</span>장
          </div>
        </div>
      </section>

      <section class="control-section">
        <div class="folder-select">
          <button id="select-dir-btn" class="secondary-btn">📂 저장 폴더 선택 (필수)</button>
          <span id="dir-status" class="status-text">선택되지 않음</span>
        </div>
        <div class="actions">
          <button id="start-btn" class="primary-btn" disabled>🚀 AI 이미지 생성 시작</button>
          <button id="stop-btn" class="danger-btn" disabled>🛑 중지</button>
        </div>
        <div class="progress-bar-container">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
        <p id="status-message">준비됨</p>
      </section>

      <section class="gallery-section">
        <h2>실시간 생성 결과</h2>
        <div id="gallery" class="gallery-grid">
          <!-- Images will appear here -->
        </div>
      </section>
    </main>
  </div>
  <script type="module" src="./main.js"></script>
</body>
</html>
